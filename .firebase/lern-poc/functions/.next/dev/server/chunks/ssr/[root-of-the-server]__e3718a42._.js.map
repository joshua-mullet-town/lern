{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/lib/firebase-client.ts"],"sourcesContent":["// Firebase Client SDK configuration\n// Used in Client Components for auth state and real-time listeners\n\nimport { initializeApp, getApps, getApp } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\nimport { getStorage } from 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase (singleton pattern)\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApp();\n\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);\n"],"names":[],"mappings":"AAAA,oCAAoC;AACpC,mEAAmE;;;;;;;;;AAEnE;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,0CAA0C;AAC1C,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,iLAAa,EAAC,kBAAkB,IAAA,0KAAM;AAEpE,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,UAAU,IAAA,kMAAU,EAAC","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/base.ts"],"sourcesContent":["/**\n * Base entity fields shared by all Firestore documents\n */\nexport interface BaseEntity {\n  id: string;\n  created_at: Date;\n  updated_at?: Date;\n}\n"],"names":[],"mappings":"AAAA;;CAEC","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/role.ts"],"sourcesContent":["/**\n * User roles in the LERN platform\n */\nexport type Role = 'learner' | 'educator' | 'industry_expert';\n"],"names":[],"mappings":"AAAA;;CAEC","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/competency.ts"],"sourcesContent":["import { BaseEntity } from './base';\n\n/**\n * Type of skill being assessed\n */\nexport type CompetencyType = 'hard' | 'soft';\n\n/**\n * Rating scale descriptions (0-4)\n */\nexport interface RubricScale {\n  0: string;  // \"No evidence\"\n  1: string;  // \"Beginning\"\n  2: string;  // \"Developing\"\n  3: string;  // \"Proficient\"\n  4: string;  // \"Expert\"\n}\n\n/**\n * A defined skill or competency that can be assessed\n * Created by educators, rated by learners/mentors/masters\n */\nexport interface Competency extends BaseEntity {\n  org_id: string;\n  created_by: string;  // userId of educator who created it\n  title: string;\n  description: string;\n  type: CompetencyType;\n  rubric?: RubricScale;  // Optional: custom rubric (uses DEFAULT_RUBRIC if not set)\n}\n\n/**\n * Default rubric for new competencies\n */\nexport const DEFAULT_RUBRIC: RubricScale = {\n  0: \"No evidence\",\n  1: \"Beginning\",\n  2: \"Developing\",\n  3: \"Proficient\",\n  4: \"Expert\",\n};\n"],"names":[],"mappings":";;;;AAkCO,MAAM,iBAA8B;IACzC,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACL","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/artifact.ts"],"sourcesContent":["import { BaseEntity } from './base';\n\n/**\n * Allowed artifact file types\n */\nexport type ArtifactFileType = 'pdf' | 'jpg' | 'png' | 'mp4';\n\n/**\n * Uploaded portfolio evidence (PDF, images, videos)\n * Can be linked to multiple competencies\n */\nexport interface Artifact extends BaseEntity {\n  uploaded_by: string;  // userId\n  learner_id: string;   // Owner of the artifact\n  file_url: string;     // Firebase Storage URL\n  file_type: ArtifactFileType;\n  file_size: number;    // Bytes\n  file_name: string;    // Original filename\n  competency_ids: string[];  // Links to 1+ competencies\n}\n\n/**\n * Max file size: 50MB\n */\nexport const MAX_ARTIFACT_SIZE = 50 * 1024 * 1024;\n"],"names":[],"mappings":";;;;AAwBO,MAAM,oBAAoB,KAAK,OAAO","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/collections.ts"],"sourcesContent":["/**\n * Central mapping of TypeScript types to Firestore collection names\n *\n * Usage:\n *   collection(db, COLLECTION_NAMES.users)\n *   collection(db, COLLECTION_NAMES.competencies)\n *\n * This ensures consistency and makes it easy to find/update collection names.\n */\nexport const COLLECTION_NAMES = {\n  organizations: 'organizations',\n  users: 'users',\n  competencies: 'competencies',\n  ratings: 'ratings',\n  artifacts: 'artifacts',\n} as const;\n\n/**\n * Type-safe collection name type\n */\nexport type CollectionName = typeof COLLECTION_NAMES[keyof typeof COLLECTION_NAMES];\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;;AACM,MAAM,mBAAmB;IAC9B,eAAe;IACf,OAAO;IACP,cAAc;IACd,SAAS;IACT,WAAW;AACb","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/index.ts"],"sourcesContent":["/**\n * Central export for all LERN types\n * Import from here: import { User, Competency, ... } from '@/types'\n */\n\nexport * from './base';\nexport * from './role';\nexport * from './organization';\nexport * from './user';\nexport * from './competency';\nexport * from './rating';\nexport * from './artifact';\nexport * from './collections';\n"],"names":[],"mappings":"AAAA;;;CAGC;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/lib/converters.ts"],"sourcesContent":["/**\n * Firestore data converters for type-safe document reads/writes\n *\n * Usage (client SDK):\n *   const ref = collection(db, COLLECTION_NAMES.users).withConverter(UserConverter);\n *   const users = await getDocs(ref);  // Fully typed!\n *\n * Usage (admin SDK):\n *   const ref = adminDb.collection(COLLECTION_NAMES.users);\n *   const doc = await ref.doc(userId).get();\n *   const user = convertFirestoreDoc<User>(doc);\n */\n\nimport {\n  FirestoreDataConverter,\n  QueryDocumentSnapshot,\n  Timestamp,\n} from 'firebase/firestore';\nimport type {\n  User,\n  Organization,\n  Competency,\n  Rating,\n  Artifact,\n} from '@/types';\n\n/**\n * Helper: Convert Firestore Timestamp to Date\n */\nfunction timestampToDate(timestamp: any): Date {\n  if (timestamp instanceof Date) return timestamp;\n  if (timestamp?.toDate) return timestamp.toDate();\n  return new Date(timestamp);\n}\n\n/**\n * Helper: Convert Date to Firestore Timestamp for writes\n */\nfunction dateToTimestamp(date: Date | undefined): any {\n  return date ? Timestamp.fromDate(date) : undefined;\n}\n\n/**\n * Generic converter for any entity type\n * Handles ID stripping on write, timestamp conversion on read\n */\nfunction createConverter<T extends { id: string; created_at: Date }>(\n): FirestoreDataConverter<T> {\n  return {\n    toFirestore: (entity: T) => {\n      const { id, created_at, updated_at, ...data } = entity as any;\n      return {\n        ...data,\n        created_at: dateToTimestamp(created_at) || Timestamp.now(),\n        updated_at: dateToTimestamp(updated_at),\n      };\n    },\n    fromFirestore: (snapshot: QueryDocumentSnapshot) => {\n      const data = snapshot.data();\n      return {\n        id: snapshot.id,\n        ...data,\n        created_at: timestampToDate(data.created_at),\n        updated_at: data.updated_at ? timestampToDate(data.updated_at) : undefined,\n      } as T;\n    },\n  };\n}\n\n/**\n * Converters for each entity type\n */\nexport const OrganizationConverter = createConverter<Organization>();\nexport const UserConverter = createConverter<User>();\nexport const CompetencyConverter = createConverter<Competency>();\nexport const RatingConverter = createConverter<Rating>();\nexport const ArtifactConverter = createConverter<Artifact>();\n\n/**\n * Helper for Admin SDK: Convert a Firestore DocumentSnapshot to typed entity\n * (Admin SDK doesn't support withConverter in the same way)\n */\nexport function convertFirestoreDoc<T extends { id: string; created_at: Date }>(\n  doc: any\n): T | null {\n  if (!doc.exists) return null;\n  const data = doc.data();\n  return {\n    id: doc.id,\n    ...data,\n    created_at: timestampToDate(data.created_at),\n    updated_at: data.updated_at ? timestampToDate(data.updated_at) : undefined,\n  } as T;\n}\n\n/**\n * Helper for Admin SDK: Convert query snapshot to typed array\n */\nexport function convertFirestoreDocs<T extends { id: string; created_at: Date }>(\n  snapshot: any\n): T[] {\n  return snapshot.docs.map((doc: any) => convertFirestoreDoc<T>(doc)).filter(Boolean);\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;CAWC;;;;;;;;;;;;;;;;AAED;AAAA;;AAaA;;CAEC,GACD,SAAS,gBAAgB,SAAc;IACrC,IAAI,qBAAqB,MAAM,OAAO;IACtC,IAAI,WAAW,QAAQ,OAAO,UAAU,MAAM;IAC9C,OAAO,IAAI,KAAK;AAClB;AAEA;;CAEC,GACD,SAAS,gBAAgB,IAAsB;IAC7C,OAAO,OAAO,8KAAS,CAAC,QAAQ,CAAC,QAAQ;AAC3C;AAEA;;;CAGC,GACD,SAAS;IAEP,OAAO;QACL,aAAa,CAAC;YACZ,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,MAAM,GAAG;YAChD,OAAO;gBACL,GAAG,IAAI;gBACP,YAAY,gBAAgB,eAAe,8KAAS,CAAC,GAAG;gBACxD,YAAY,gBAAgB;YAC9B;QACF;QACA,eAAe,CAAC;YACd,MAAM,OAAO,SAAS,IAAI;YAC1B,OAAO;gBACL,IAAI,SAAS,EAAE;gBACf,GAAG,IAAI;gBACP,YAAY,gBAAgB,KAAK,UAAU;gBAC3C,YAAY,KAAK,UAAU,GAAG,gBAAgB,KAAK,UAAU,IAAI;YACnE;QACF;IACF;AACF;AAKO,MAAM,wBAAwB;AAC9B,MAAM,gBAAgB;AACtB,MAAM,sBAAsB;AAC5B,MAAM,kBAAkB;AACxB,MAAM,oBAAoB;AAM1B,SAAS,oBACd,GAAQ;IAER,IAAI,CAAC,IAAI,MAAM,EAAE,OAAO;IACxB,MAAM,OAAO,IAAI,IAAI;IACrB,OAAO;QACL,IAAI,IAAI,EAAE;QACV,GAAG,IAAI;QACP,YAAY,gBAAgB,KAAK,UAAU;QAC3C,YAAY,KAAK,UAAU,GAAG,gBAAgB,KAAK,UAAU,IAAI;IACnE;AACF;AAKO,SAAS,qBACd,QAAa;IAEb,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,MAAa,oBAAuB,MAAM,MAAM,CAAC;AAC7E","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/public/PublicProfileHeader.tsx"],"sourcesContent":["import { User, Organization } from '@/types';\nimport { Building2, GraduationCap } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\n\ninterface PublicProfileHeaderProps {\n  learner: User;\n  organization?: Organization;\n}\n\nexport function PublicProfileHeader({ learner, organization }: PublicProfileHeaderProps) {\n  return (\n    <Card className=\"border-2\">\n      <CardContent>\n        <div className=\"flex items-start gap-6\">\n          {/* Avatar Placeholder */}\n          <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-3xl font-bold flex-shrink-0\">\n            {learner.display_name.charAt(0).toUpperCase()}\n          </div>\n\n          {/* Info */}\n          <div className=\"flex-1\">\n            <h1 className=\"text-3xl font-bold mb-2\">{learner.display_name}</h1>\n            {organization && (\n              <div className=\"flex items-center gap-2 text-slate-600\">\n                {organization.org_type === 'education' ? (\n                  <GraduationCap className=\"w-5 h-5\" />\n                ) : (\n                  <Building2 className=\"w-5 h-5\" />\n                )}\n                <span className=\"text-lg\">{organization.name}</span>\n              </div>\n            )}\n            <p className=\"text-sm text-slate-500 mt-2\">\n              {organization?.org_type === 'education' ? 'Student' : 'Employee'} Portfolio\n            </p>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;;;;AAOO,SAAS,oBAAoB,EAAE,OAAO,EAAE,YAAY,EAA4B;IACrF,qBACE,8OAAC,iIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC,wIAAW;sBACV,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACZ,QAAQ,YAAY,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;kCAI7C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA2B,QAAQ,YAAY;;;;;;4BAC5D,8BACC,8OAAC;gCAAI,WAAU;;oCACZ,aAAa,QAAQ,KAAK,4BACzB,8OAAC,yOAAa;wCAAC,WAAU;;;;;6DAEzB,8OAAC,6NAAS;wCAAC,WAAU;;;;;;kDAEvB,8OAAC;wCAAK,WAAU;kDAAW,aAAa,IAAI;;;;;;;;;;;;0CAGhD,8OAAC;gCAAE,WAAU;;oCACV,cAAc,aAAa,cAAc,YAAY;oCAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/E","debugId":null}},
    {"offset": {"line": 550, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,oZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/public/TrustBadge.tsx"],"sourcesContent":["import { RaterType } from '@/types';\nimport { User, GraduationCap, Briefcase } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\n\ninterface TrustBadgeProps {\n  raterType: RaterType;\n}\n\nconst badgeConfig: Record<RaterType, { icon: typeof User; label: string; variant: 'default' | 'secondary' | 'outline' }> = {\n  self: {\n    icon: User,\n    label: 'Self-Assessed',\n    variant: 'secondary',\n  },\n  mentor: {\n    icon: GraduationCap,\n    label: 'Mentor Verified',\n    variant: 'default',\n  },\n  master: {\n    icon: Briefcase,\n    label: 'Industry Verified',\n    variant: 'default',\n  },\n};\n\nexport function TrustBadge({ raterType }: TrustBadgeProps) {\n  const config = badgeConfig[raterType];\n  const Icon = config.icon;\n\n  return (\n    <Badge variant={config.variant} className=\"flex items-center gap-1 px-3 py-1\">\n      <Icon className=\"w-3 h-3\" />\n      <span className=\"text-xs\">{config.label}</span>\n    </Badge>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AACA;;;;AAMA,MAAM,cAAqH;IACzH,MAAM;QACJ,MAAM,0MAAI;QACV,OAAO;QACP,SAAS;IACX;IACA,QAAQ;QACN,MAAM,yOAAa;QACnB,OAAO;QACP,SAAS;IACX;IACA,QAAQ;QACN,MAAM,yNAAS;QACf,OAAO;QACP,SAAS;IACX;AACF;AAEO,SAAS,WAAW,EAAE,SAAS,EAAmB;IACvD,MAAM,SAAS,WAAW,CAAC,UAAU;IACrC,MAAM,OAAO,OAAO,IAAI;IAExB,qBACE,8OAAC,mIAAK;QAAC,SAAS,OAAO,OAAO;QAAE,WAAU;;0BACxC,8OAAC;gBAAK,WAAU;;;;;;0BAChB,8OAAC;gBAAK,WAAU;0BAAW,OAAO,KAAK;;;;;;;;;;;;AAG7C","debugId":null}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/public/CompetencyWithTrustBadges.tsx"],"sourcesContent":["import { Competency, Rating } from '@/types';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { TrustBadge } from './TrustBadge';\n\ninterface CompetencyWithTrustBadgesProps {\n  competency: Competency;\n  ratings: Rating[];\n  average: number;\n}\n\nexport function CompetencyWithTrustBadges({\n  competency,\n  ratings,\n  average,\n}: CompetencyWithTrustBadgesProps) {\n  // Get unique rater types for trust badges\n  const raterTypes = Array.from(new Set(ratings.map(r => r.rater_type)));\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1\">\n            <CardTitle className=\"text-xl\">{competency.title}</CardTitle>\n            {competency.description && (\n              <p className=\"text-sm text-slate-600 mt-1\">{competency.description}</p>\n            )}\n          </div>\n          <div className=\"ml-4 text-right\">\n            <div className=\"text-3xl font-bold text-blue-600\">{average.toFixed(1)}</div>\n            <div className=\"text-xs text-slate-500\">Average Rating</div>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          {/* Trust Badges */}\n          <div>\n            <p className=\"text-sm font-medium text-slate-700 mb-2\">Verified by:</p>\n            <div className=\"flex gap-2\">\n              {raterTypes.map(raterType => (\n                <TrustBadge key={raterType} raterType={raterType} />\n              ))}\n            </div>\n          </div>\n\n          {/* Rating Timeline */}\n          <div>\n            <p className=\"text-sm font-medium text-slate-700 mb-3\">Rating History:</p>\n            <div className=\"space-y-4\">\n              {ratings.map((rating, index) => (\n                <div key={rating.id} className=\"relative pl-8\">\n                  {/* Timeline dot and line */}\n                  <div className=\"absolute left-0 top-0 flex flex-col items-center\">\n                    <div className=\"w-3 h-3 rounded-full bg-blue-500 border-2 border-white shadow\"></div>\n                    {index < ratings.length - 1 && (\n                      <div className=\"w-0.5 h-full bg-slate-200 mt-1\"></div>\n                    )}\n                  </div>\n\n                  {/* Rating card */}\n                  <div className=\"bg-white rounded-lg border border-slate-200 p-4 shadow-sm\">\n                    {/* Header: Badge and Date */}\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <TrustBadge raterType={rating.rater_type} />\n                      <span className=\"text-sm font-medium text-slate-600\">\n                        {rating.created_at instanceof Date\n                          ? rating.created_at.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n                          : new Date(rating.created_at).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\n                      </span>\n                    </div>\n\n                    {/* Score */}\n                    <div className=\"flex items-center gap-3 mb-3\">\n                      <span className=\"text-xs font-medium text-slate-500 uppercase tracking-wide\">Score:</span>\n                      <div className=\"flex items-center gap-1\">\n                        <span className=\"text-3xl font-bold text-blue-600\">{rating.score}</span>\n                        <span className=\"text-sm text-slate-400\">/ 4</span>\n                      </div>\n                    </div>\n\n                    {/* Comment */}\n                    {rating.comment && (\n                      <div className=\"mt-3 pt-3 border-t border-slate-100\">\n                        <p className=\"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1\">Comment:</p>\n                        <p className=\"text-sm text-slate-700 leading-relaxed\">{rating.comment}</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAQO,SAAS,0BAA0B,EACxC,UAAU,EACV,OAAO,EACP,OAAO,EACwB;IAC/B,0CAA0C;IAC1C,MAAM,aAAa,MAAM,IAAI,CAAC,IAAI,IAAI,QAAQ,GAAG,CAAC,CAAA,IAAK,EAAE,UAAU;IAEnE,qBACE,8OAAC,iIAAI;;0BACH,8OAAC,uIAAU;0BACT,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,sIAAS;oCAAC,WAAU;8CAAW,WAAW,KAAK;;;;;;gCAC/C,WAAW,WAAW,kBACrB,8OAAC;oCAAE,WAAU;8CAA+B,WAAW,WAAW;;;;;;;;;;;;sCAGtE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CAAoC,QAAQ,OAAO,CAAC;;;;;;8CACnE,8OAAC;oCAAI,WAAU;8CAAyB;;;;;;;;;;;;;;;;;;;;;;;0BAI9C,8OAAC,wIAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;8CAA0C;;;;;;8CACvD,8OAAC;oCAAI,WAAU;8CACZ,WAAW,GAAG,CAAC,CAAA,0BACd,8OAAC,iJAAU;4CAAiB,WAAW;2CAAtB;;;;;;;;;;;;;;;;sCAMvB,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;8CAA0C;;;;;;8CACvD,8OAAC;oCAAI,WAAU;8CACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,8OAAC;4CAAoB,WAAU;;8DAE7B,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;;;;;wDACd,QAAQ,QAAQ,MAAM,GAAG,mBACxB,8OAAC;4DAAI,WAAU;;;;;;;;;;;;8DAKnB,8OAAC;oDAAI,WAAU;;sEAEb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC,iJAAU;oEAAC,WAAW,OAAO,UAAU;;;;;;8EACxC,8OAAC;oEAAK,WAAU;8EACb,OAAO,UAAU,YAAY,OAC1B,OAAO,UAAU,CAAC,kBAAkB,CAAC,SAAS;wEAAE,OAAO;wEAAS,KAAK;wEAAW,MAAM;oEAAU,KAChG,IAAI,KAAK,OAAO,UAAU,EAAE,kBAAkB,CAAC,SAAS;wEAAE,OAAO;wEAAS,KAAK;wEAAW,MAAM;oEAAU;;;;;;;;;;;;sEAKlH,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAA6D;;;;;;8EAC7E,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EAAK,WAAU;sFAAoC,OAAO,KAAK;;;;;;sFAChE,8OAAC;4EAAK,WAAU;sFAAyB;;;;;;;;;;;;;;;;;;wDAK5C,OAAO,OAAO,kBACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EAAkE;;;;;;8EAC/E,8OAAC;oEAAE,WAAU;8EAA0C,OAAO,OAAO;;;;;;;;;;;;;;;;;;;2CAlCnE,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CnC","debugId":null}},
    {"offset": {"line": 957, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/app/%28public%29/profile/%5BlearnerId%5D/page.tsx"],"sourcesContent":["import { collection, doc, getDoc, getDocs, query, where } from 'firebase/firestore';\nimport { db } from '@/lib/firebase-client';\nimport { COLLECTION_NAMES, Competency, Rating, Organization } from '@/types';\nimport { UserConverter, RatingConverter, CompetencyConverter, OrganizationConverter } from '@/lib/converters';\nimport { PublicProfileHeader } from '@/components/public/PublicProfileHeader';\nimport { CompetencyWithTrustBadges } from '@/components/public/CompetencyWithTrustBadges';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { notFound } from 'next/navigation';\n\nexport const dynamic = 'force-dynamic';\n\ninterface PageProps {\n  params: {\n    learnerId: string;\n  };\n}\n\n// Helper to group ratings by competency and calculate average\nfunction groupRatingsByCompetency(ratings: Rating[], competencies: Competency[]) {\n  const competencyMap = new Map(competencies.map(c => [c.id, c]));\n  const grouped = new Map<string, { competency: Competency; ratings: Rating[]; average: number }>();\n\n  for (const rating of ratings) {\n    if (rating.status !== 'completed' || rating.score === undefined) continue;\n\n    const competency = competencyMap.get(rating.competency_id);\n    if (!competency) continue;\n\n    if (!grouped.has(rating.competency_id)) {\n      grouped.set(rating.competency_id, {\n        competency,\n        ratings: [],\n        average: 0,\n      });\n    }\n\n    grouped.get(rating.competency_id)!.ratings.push(rating);\n  }\n\n  // Calculate averages\n  for (const [, data] of grouped) {\n    const sum = data.ratings.reduce((acc, r) => acc + (r.score || 0), 0);\n    data.average = sum / data.ratings.length;\n  }\n\n  return Array.from(grouped.values());\n}\n\nexport default async function PublicProfilePage({ params }: PageProps) {\n  const { learnerId } = await params;\n\n  // Fetch learner\n  const learnerRef = doc(db, COLLECTION_NAMES.users, learnerId).withConverter(UserConverter);\n  const learnerSnap = await getDoc(learnerRef);\n\n  if (!learnerSnap.exists()) {\n    notFound();\n  }\n\n  const learner = learnerSnap.data();\n\n  // Fetch organization\n  const orgRef = doc(db, COLLECTION_NAMES.organizations, learner.org_id).withConverter(OrganizationConverter);\n  const orgSnap = await getDoc(orgRef);\n  const organization = orgSnap.exists() ? orgSnap.data() : undefined;\n\n  // Fetch completed ratings for this learner\n  const ratingsRef = collection(db, COLLECTION_NAMES.ratings).withConverter(RatingConverter);\n  const ratingsQuery = query(\n    ratingsRef,\n    where('learner_id', '==', learnerId),\n    where('status', '==', 'completed')\n  );\n  const ratingsSnap = await getDocs(ratingsQuery);\n  const ratings = ratingsSnap.docs.map((doc) => doc.data());\n\n  // Fetch all competencies\n  const competenciesRef = collection(db, COLLECTION_NAMES.competencies).withConverter(CompetencyConverter);\n  const competenciesSnap = await getDocs(competenciesRef);\n  const competencies = competenciesSnap.docs.map((doc) => doc.data());\n\n  // Group ratings by competency\n  const groupedRatings = groupRatingsByCompetency(ratings, competencies);\n\n  // Filter out hidden competencies\n  const visibleRatings = groupedRatings.filter(({ competency }) => {\n    const hiddenIds = learner.hidden_competency_ids || [];\n    return !hiddenIds.includes(competency.id);\n  });\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100\">\n      <div className=\"max-w-4xl mx-auto p-8 space-y-8\">\n        <PublicProfileHeader learner={learner} organization={organization} />\n\n        <div>\n          <h2 className=\"text-2xl font-semibold mb-6\">Verified Competencies</h2>\n          {visibleRatings.length === 0 ? (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <p className=\"text-slate-500\">No verified competencies yet</p>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"space-y-4\">\n              {visibleRatings.map(({ competency, ratings, average }) => (\n                <CompetencyWithTrustBadges\n                  key={competency.id}\n                  competency={competency}\n                  ratings={ratings}\n                  average={average}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}