{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,8cACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,oZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitive from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        \"peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          \"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0\"\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2KAAqB;YACpB,aAAU;YACV,WAAW,IAAA,kHAAE,EACX;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/public/TrustBadge.tsx"],"sourcesContent":["import { RaterType } from '@/types';\nimport { User, GraduationCap, Briefcase } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\n\ninterface TrustBadgeProps {\n  raterType: RaterType;\n}\n\nconst badgeConfig: Record<RaterType, { icon: typeof User; label: string; variant: 'default' | 'secondary' | 'outline' }> = {\n  self: {\n    icon: User,\n    label: 'Self-Assessed',\n    variant: 'secondary',\n  },\n  mentor: {\n    icon: GraduationCap,\n    label: 'Mentor Verified',\n    variant: 'default',\n  },\n  master: {\n    icon: Briefcase,\n    label: 'Industry Verified',\n    variant: 'default',\n  },\n};\n\nexport function TrustBadge({ raterType }: TrustBadgeProps) {\n  const config = badgeConfig[raterType];\n  const Icon = config.icon;\n\n  return (\n    <Badge variant={config.variant} className=\"flex items-center gap-1 px-3 py-1\">\n      <Icon className=\"w-3 h-3\" />\n      <span className=\"text-xs\">{config.label}</span>\n    </Badge>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AACA;;;;AAMA,MAAM,cAAqH;IACzH,MAAM;QACJ,MAAM,0MAAI;QACV,OAAO;QACP,SAAS;IACX;IACA,QAAQ;QACN,MAAM,yOAAa;QACnB,OAAO;QACP,SAAS;IACX;IACA,QAAQ;QACN,MAAM,yNAAS;QACf,OAAO;QACP,SAAS;IACX;AACF;AAEO,SAAS,WAAW,EAAE,SAAS,EAAmB;IACvD,MAAM,SAAS,WAAW,CAAC,UAAU;IACrC,MAAM,OAAO,OAAO,IAAI;IAExB,qBACE,8OAAC,mIAAK;QAAC,SAAS,OAAO,OAAO;QAAE,WAAU;;0BACxC,8OAAC;gBAAK,WAAU;;;;;;0BAChB,8OAAC;gBAAK,WAAU;0BAAW,OAAO,KAAK;;;;;;;;;;;;AAG7C","debugId":null}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/artifact/ArtifactThumbnail.tsx"],"sourcesContent":["'use client';\n\nimport { Artifact } from '@/types';\nimport { FileText, Film, Download, Trash2 } from 'lucide-react';\nimport Image from 'next/image';\nimport { Button } from '@/components/ui/button';\n\ninterface ArtifactThumbnailProps {\n  artifact: Artifact;\n  showName?: boolean;\n  size?: 'sm' | 'md' | 'lg';\n  whiteText?: boolean;\n  onDelete?: (artifactId: string) => void;\n  showDelete?: boolean;\n}\n\nconst sizeClasses = {\n  sm: 'w-16 h-16',\n  md: 'w-24 h-24',\n  lg: 'w-32 h-32',\n};\n\nexport function ArtifactThumbnail({ artifact, showName = true, size = 'md', whiteText = false, onDelete, showDelete = false }: ArtifactThumbnailProps) {\n  const isImage = artifact.file_type === 'jpg' || artifact.file_type === 'png';\n  const isPdf = artifact.file_type === 'pdf';\n  const isVideo = artifact.file_type === 'mp4';\n\n  const handleDownload = () => {\n    window.open(artifact.file_url, '_blank');\n  };\n\n  const handleDelete = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (onDelete) {\n      onDelete(artifact.id);\n    }\n  };\n\n  return (\n    <div className=\"group relative\">\n      {/* Delete button (top right corner) */}\n      {showDelete && onDelete && (\n        <Button\n          variant=\"destructive\"\n          size=\"sm\"\n          className=\"absolute -top-2 -right-2 z-10 h-6 w-6 p-0 rounded-full opacity-0 group-hover:opacity-80 hover:!opacity-100 transition-opacity\"\n          onClick={handleDelete}\n        >\n          <Trash2 className=\"h-3 w-3\" />\n        </Button>\n      )}\n\n      {/* Thumbnail */}\n      <div\n        className={`${sizeClasses[size]} rounded-lg overflow-hidden border-2 border-slate-200 hover:border-blue-400 transition-all cursor-pointer relative bg-slate-50`}\n        onClick={handleDownload}\n      >\n        {isImage ? (\n          <Image\n            src={artifact.file_url}\n            alt={artifact.file_name}\n            fill\n            className=\"object-cover\"\n          />\n        ) : (\n          <div className=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200\">\n            {isPdf && <FileText className=\"w-8 h-8 text-red-600\" />}\n            {isVideo && <Film className=\"w-8 h-8 text-purple-600\" />}\n            <span className=\"text-xs font-bold text-slate-600 mt-1 uppercase\">\n              {artifact.file_type}\n            </span>\n          </div>\n        )}\n\n        {/* Hover overlay with download icon */}\n        <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n          <Download className=\"w-6 h-6 text-white\" />\n        </div>\n      </div>\n\n      {/* Name below thumbnail */}\n      {showName && (\n        <p className={`text-xs mt-1 truncate max-w-[100px] text-center ${whiteText ? 'text-white' : 'text-slate-600'}`}>\n          {artifact.file_name}\n        </p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AALA;;;;;AAgBA,MAAM,cAAc;IAClB,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,kBAAkB,EAAE,QAAQ,EAAE,WAAW,IAAI,EAAE,OAAO,IAAI,EAAE,YAAY,KAAK,EAAE,QAAQ,EAAE,aAAa,KAAK,EAA0B;IACnJ,MAAM,UAAU,SAAS,SAAS,KAAK,SAAS,SAAS,SAAS,KAAK;IACvE,MAAM,QAAQ,SAAS,SAAS,KAAK;IACrC,MAAM,UAAU,SAAS,SAAS,KAAK;IAEvC,MAAM,iBAAiB;QACrB,OAAO,IAAI,CAAC,SAAS,QAAQ,EAAE;IACjC;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,eAAe;QACjB,IAAI,UAAU;YACZ,SAAS,SAAS,EAAE;QACtB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;YAEZ,cAAc,0BACb,8OAAC,qIAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAU;gBACV,SAAS;0BAET,cAAA,8OAAC,oNAAM;oBAAC,WAAU;;;;;;;;;;;0BAKtB,8OAAC;gBACC,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,8HAA8H,CAAC;gBAC/J,SAAS;;oBAER,wBACC,8OAAC,wIAAK;wBACJ,KAAK,SAAS,QAAQ;wBACtB,KAAK,SAAS,SAAS;wBACvB,IAAI;wBACJ,WAAU;;;;;6CAGZ,8OAAC;wBAAI,WAAU;;4BACZ,uBAAS,8OAAC,0NAAQ;gCAAC,WAAU;;;;;;4BAC7B,yBAAW,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAC5B,8OAAC;gCAAK,WAAU;0CACb,SAAS,SAAS;;;;;;;;;;;;kCAMzB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,sNAAQ;4BAAC,WAAU;;;;;;;;;;;;;;;;;YAKvB,0BACC,8OAAC;gBAAE,WAAW,CAAC,gDAAgD,EAAE,YAAY,eAAe,kBAAkB;0BAC3G,SAAS,SAAS;;;;;;;;;;;;AAK7B","debugId":null}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/public/CompetencyWithTrustBadges.tsx"],"sourcesContent":["'use client';\n\nimport { Competency, Rating, Artifact } from '@/types';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { TrustBadge } from './TrustBadge';\nimport { ArtifactThumbnail } from '@/components/artifact/ArtifactThumbnail';\n\ninterface CompetencyWithTrustBadgesProps {\n  competency: Competency;\n  ratings: Rating[];\n  average: number;\n  artifacts?: Artifact[];\n}\n\nexport function CompetencyWithTrustBadges({\n  competency,\n  ratings,\n  average,\n  artifacts = [],\n}: CompetencyWithTrustBadgesProps) {\n  // Get unique rater types for trust badges\n  const raterTypes = Array.from(new Set(ratings.map(r => r.rater_type)));\n\n  // Combine ratings and artifacts into a timeline, sorted by date (oldest first for chart flow)\n  type TimelineItem =\n    | { type: 'rating'; data: Rating; date: Date }\n    | { type: 'artifact'; data: Artifact; date: Date };\n\n  const timeline: TimelineItem[] = [\n    ...ratings.map(r => ({\n      type: 'rating' as const,\n      data: r,\n      date: r.created_at instanceof Date ? r.created_at : new Date(r.created_at),\n    })),\n    ...artifacts.map(a => ({\n      type: 'artifact' as const,\n      data: a,\n      date: a.created_at instanceof Date ? a.created_at : new Date(a.created_at),\n    })),\n  ].sort((a, b) => a.date.getTime() - b.date.getTime()); // Oldest first (so line flows correctly)\n\n  return (\n    <Card className=\"overflow-hidden\">\n      <CardHeader>\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1\">\n            <CardTitle className=\"text-xl\">{competency.title}</CardTitle>\n            {competency.description && (\n              <p className=\"text-sm text-slate-600 mt-1\">{competency.description}</p>\n            )}\n          </div>\n          <div className=\"ml-4 text-right\">\n            <div className=\"text-3xl font-bold text-blue-600\">{average.toFixed(1)}</div>\n            <div className=\"text-xs text-slate-500\">Average Rating</div>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          {/* Horizontal Scrolling Timeline */}\n          <div className=\"max-w-full\">\n            <p className=\"text-sm font-medium text-slate-700 mb-6\">Learning Journey:</p>\n\n            {/* Horizontal scrolling container */}\n            <div className=\"bg-slate-50 rounded-lg border-2 border-slate-200 p-4 overflow-x-auto max-w-full\">\n              <p className=\"text-xs font-semibold text-slate-700 mb-3\">Running Average (0-4)</p>\n\n              <div className=\"relative\" style={{ width: `${timeline.length * 220}px`, minWidth: '100%' }}>\n                {/* Cards above chart */}\n                <div className=\"flex gap-4 mb-4\">\n                  {timeline.map((item) => (\n                    <div key={item.type === 'rating' ? item.data.id : item.data.id} className=\"w-[200px] flex-shrink-0\">\n                      {/* Date */}\n                      <div className=\"text-xs font-semibold text-slate-600 mb-2 text-center\">\n                        {item.date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\n                      </div>\n\n                      {item.type === 'rating' ? (\n                        /* Rating card */\n                        <div>\n                          <div className=\"rounded-lg border-2 border-blue-300 p-2 shadow-sm bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col items-center gap-2\">\n                            <TrustBadge raterType={item.data.rater_type} />\n                            <div className=\"flex items-baseline gap-1\">\n                              <span className=\"text-xl font-bold text-slate-900\">{item.data.score}</span>\n                              <span className=\"text-xs text-slate-500\">/4</span>\n                            </div>\n                          </div>\n                          {item.data.comment && (\n                            <p className=\"text-xs text-slate-700 italic mt-2 text-center\">\n                              \"{item.data.comment}\"\n                            </p>\n                          )}\n                        </div>\n                      ) : (\n                        /* Artifact card */\n                        <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-300 rounded-lg p-2 shadow-sm flex flex-col items-center gap-2\">\n                          <ArtifactThumbnail artifact={item.data} size=\"sm\" showName={false} />\n                          <div className=\"text-center\">\n                            <p className=\"text-xs font-semibold text-purple-900 uppercase tracking-wide\">\n                              Portfolio\n                            </p>\n                            <p className=\"text-xs font-medium text-slate-900 truncate max-w-[180px]\">{item.data.file_name}</p>\n                            <p className=\"text-xs text-slate-600 uppercase\">{item.data.file_type}</p>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n\n                {/* Chart area */}\n                <div className=\"relative border-b-2 border-slate-300 h-[200px]\">\n                  {/* Y-axis labels (0-4) */}\n                  <div className=\"absolute left-0 top-0 bottom-0 flex flex-col justify-between py-2 -ml-8\">\n                    {[4, 3, 2, 1, 0].map((value) => (\n                      <div key={value} className=\"text-xs font-medium text-slate-500\">\n                        {value}\n                      </div>\n                    ))}\n                  </div>\n\n                  {/* Horizontal grid lines */}\n                  {[1, 2, 3, 4].map((value) => (\n                    <div\n                      key={value}\n                      className=\"absolute left-0 right-0 h-px bg-slate-200\"\n                      style={{ bottom: `${(value / 4) * 100}%` }}\n                    />\n                  ))}\n\n                  {/* SVG for line and dots */}\n                  <svg className=\"absolute inset-0 w-full h-full overflow-visible\">\n                    {/* Smooth path through rating points */}\n                    {(() => {\n                      const ratingPoints: { x: number; y: number }[] = [];\n\n                      timeline.forEach((item, index) => {\n                        const ratingsUpToNow = timeline\n                          .slice(0, index + 1)\n                          .filter(t => t.type === 'rating')\n                          .map(t => (t.data as Rating).score!);\n\n                        if (ratingsUpToNow.length > 0) {\n                          const avg = ratingsUpToNow.reduce<number>((sum, score) => sum + (score as number), 0) / ratingsUpToNow.length;\n                          const xPos = index * 220 + 100; // Center of each column\n                          const yPos = 200 - (avg / 4) * 200; // Invert Y (0 at bottom)\n                          ratingPoints.push({ x: xPos, y: yPos });\n                        }\n                      });\n\n                      // Create smooth path\n                      if (ratingPoints.length > 1) {\n                        let pathD = `M ${ratingPoints[0].x} ${ratingPoints[0].y}`;\n\n                        for (let i = 1; i < ratingPoints.length; i++) {\n                          const prev = ratingPoints[i - 1];\n                          const curr = ratingPoints[i];\n                          const controlPointOffset = (curr.x - prev.x) * 0.5;\n\n                          pathD += ` C ${prev.x + controlPointOffset} ${prev.y}, ${curr.x - controlPointOffset} ${curr.y}, ${curr.x} ${curr.y}`;\n                        }\n\n                        return (\n                          <path\n                            d={pathD}\n                            fill=\"none\"\n                            stroke=\"#3b82f6\"\n                            strokeWidth=\"2\"\n                          />\n                        );\n                      }\n                      return null;\n                    })()}\n\n                    {/* Dots and connector lines */}\n                    {timeline.map((item, index) => {\n                      const ratingsUpToNow = timeline\n                        .slice(0, index + 1)\n                        .filter(t => t.type === 'rating')\n                        .map(t => (t.data as Rating).score!);\n\n                      if (ratingsUpToNow.length === 0) return null;\n\n                      const avg = ratingsUpToNow.reduce<number>((sum, score) => sum + (score as number), 0) / ratingsUpToNow.length;\n                      const xPos = index * 220 + 100;\n                      const yPos = 200 - (avg / 4) * 200;\n\n                      return (\n                        <g key={item.type === 'rating' ? item.data.id : item.data.id}>\n                          {/* Dotted line to card above */}\n                          <line\n                            x1={xPos}\n                            y1={yPos}\n                            x2={xPos}\n                            y2=\"0\"\n                            className=\"stroke-blue-400 stroke-1\"\n                            strokeDasharray=\"4,4\"\n                          />\n                          {/* Dot */}\n                          <circle\n                            cx={xPos}\n                            cy={yPos}\n                            r=\"5\"\n                            className=\"fill-blue-600 stroke-white stroke-2\"\n                          />\n                          {/* Average label below dot with background */}\n                          <rect\n                            x={xPos - 18}\n                            y={yPos + 10}\n                            width=\"36\"\n                            height=\"20\"\n                            rx=\"6\"\n                            className=\"fill-white stroke-blue-300 stroke-1\"\n                          />\n                          <text\n                            x={xPos}\n                            y={yPos + 24}\n                            textAnchor=\"middle\"\n                            className=\"fill-slate-700 text-xs font-semibold\"\n                          >\n                            {avg.toFixed(1)}\n                          </text>\n                        </g>\n                      );\n                    })}\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/components/learner/PortfolioManager.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { User, Competency, Rating, Artifact } from '@/types';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { ExternalLink, Copy, Check, Eye, ChevronUp, ChevronDown } from 'lucide-react';\nimport Link from 'next/link';\nimport { CompetencyWithTrustBadges } from '@/components/public/CompetencyWithTrustBadges';\n\ninterface PortfolioManagerProps {\n  learnerId: string;\n  learner: User;\n  competencies: { competency: Competency; ratings: Rating[]; average: number }[];\n  artifacts: Artifact[];\n}\n\nexport function PortfolioManager({ learnerId, learner, competencies, artifacts }: PortfolioManagerProps) {\n  const [hiddenIds, setHiddenIds] = useState<Set<string>>(\n    new Set(learner.hidden_competency_ids || [])\n  );\n  const [displayOrder, setDisplayOrder] = useState<string[]>(\n    learner.competency_display_order || competencies.map(c => c.competency.id)\n  );\n  const [copied, setCopied] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [publicUrl, setPublicUrl] = useState('');\n\n  useEffect(() => {\n    // Set URL only on client side to avoid SSR window reference\n    setPublicUrl(`${window.location.origin}/profile/${learnerId}`);\n  }, [learnerId]);\n\n  const toggleVisibility = async (competencyId: string) => {\n    const newHiddenIds = new Set(hiddenIds);\n    if (newHiddenIds.has(competencyId)) {\n      newHiddenIds.delete(competencyId);\n    } else {\n      newHiddenIds.add(competencyId);\n    }\n\n    setHiddenIds(newHiddenIds);\n\n    // Save to Firestore\n    setSaving(true);\n    try {\n      const response = await fetch('/api/learner/visibility', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          learnerId,\n          hiddenCompetencyIds: Array.from(newHiddenIds),\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to save visibility settings');\n      }\n    } catch (error) {\n      console.error('Error saving visibility:', error);\n      // Revert on error\n      setHiddenIds(hiddenIds);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const moveCompetency = async (competencyId: string, direction: 'up' | 'down') => {\n    const currentIndex = displayOrder.indexOf(competencyId);\n    if (currentIndex === -1) return;\n\n    const newIndex = direction === 'up' ? currentIndex - 1 : currentIndex + 1;\n    if (newIndex < 0 || newIndex >= displayOrder.length) return;\n\n    const newOrder = [...displayOrder];\n    [newOrder[currentIndex], newOrder[newIndex]] = [newOrder[newIndex], newOrder[currentIndex]];\n    setDisplayOrder(newOrder);\n\n    // Save to Firestore\n    setSaving(true);\n    try {\n      const response = await fetch('/api/learner/display-order', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          learnerId,\n          displayOrder: newOrder,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to save display order');\n      }\n    } catch (error) {\n      console.error('Error saving display order:', error);\n      // Revert on error\n      setDisplayOrder(displayOrder);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const copyLink = async () => {\n    await navigator.clipboard.writeText(publicUrl);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  const visibleCount = competencies.length - hiddenIds.size;\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-8\">\n      <div>\n        <h1 className=\"text-3xl font-bold\">Portfolio Manager</h1>\n        <p className=\"text-slate-600 mt-2\">\n          Control which competencies appear on your public portfolio\n        </p>\n      </div>\n\n      {/* Public Portfolio Preview */}\n      <Card className=\"border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-white\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Eye className=\"w-5 h-5\" />\n            Public Portfolio\n          </CardTitle>\n          <CardDescription>\n            Share your verified competencies with employers and educators\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center gap-2\">\n            <input\n              type=\"text\"\n              value={publicUrl}\n              readOnly\n              className=\"flex-1 px-3 py-2 text-sm bg-white border border-slate-300 rounded-md\"\n            />\n            <Button variant=\"outline\" size=\"sm\" onClick={copyLink}>\n              {copied ? <Check className=\"w-4 h-4\" /> : <Copy className=\"w-4 h-4\" />}\n            </Button>\n          </div>\n          <div className=\"flex gap-3\">\n            <Link href={`/profile/${learnerId}`} target=\"_blank\">\n              <Button>\n                <ExternalLink className=\"w-4 h-4 mr-2\" />\n                Preview Portfolio\n              </Button>\n            </Link>\n            <div className=\"flex items-center gap-2 px-3 py-2 bg-white rounded-md border border-slate-200\">\n              <Badge variant=\"secondary\">{visibleCount}</Badge>\n              <span className=\"text-sm text-slate-600\">\n                visible competenc{visibleCount === 1 ? 'y' : 'ies'}\n              </span>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Competency Manager */}\n      <div>\n        <h2 className=\"text-xl font-semibold mb-4\">Manage Competencies</h2>\n        {competencies.length === 0 ? (\n          <Card>\n            <CardContent className=\"text-center py-12\">\n              <p className=\"text-slate-500\">No competencies with ratings yet</p>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"space-y-4\">\n            {displayOrder\n              .map(id => competencies.find(c => c.competency.id === id))\n              .filter(Boolean)\n              .map((item, index) => {\n                const { competency, ratings, average } = item!;\n                const isVisible = !hiddenIds.has(competency.id);\n                const competencyArtifacts = artifacts.filter(a =>\n                  a.competency_ids.includes(competency.id)\n                );\n                const isFirst = index === 0;\n                const isLast = index === displayOrder.length - 1;\n\n                return (\n                  <div\n                    key={competency.id}\n                    className=\"relative transition-all duration-300 ease-in-out\"\n                    style={{\n                      transform: `translateY(0)`,\n                      transition: 'transform 300ms ease-in-out, opacity 300ms ease-in-out'\n                    }}\n                  >\n                    {/* Controls - attached to top right */}\n                    <div className=\"flex justify-end relative z-10 pr-4\">\n                      <div className=\"flex items-center gap-3 bg-white rounded-t-lg border-2 border-b-white px-3 py-2\">\n                        {/* Reorder buttons */}\n                        <div className=\"flex gap-1\">\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => moveCompetency(competency.id, 'up')}\n                            disabled={isFirst || saving}\n                            className=\"h-8 w-8 p-0\"\n                          >\n                            <ChevronUp className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => moveCompetency(competency.id, 'down')}\n                            disabled={isLast || saving}\n                            className=\"h-8 w-8 p-0\"\n                          >\n                            <ChevronDown className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n\n                        {/* Visibility toggle */}\n                        <div className=\"flex items-center gap-3 border-l pl-3\">\n                          <div className=\"text-right\">\n                            <p className=\"text-xs font-medium text-slate-700\">\n                              {isVisible ? 'Visible' : 'Hidden'}\n                            </p>\n                            <p className=\"text-xs text-slate-500\">\n                              {isVisible ? 'Public' : 'Private'}\n                            </p>\n                          </div>\n                          <Switch\n                            checked={isVisible}\n                            onCheckedChange={() => toggleVisibility(competency.id)}\n                            disabled={saving}\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Competency Card */}\n                    <div className={`transition-opacity ${!isVisible ? 'opacity-40' : ''}`}>\n                      <CompetencyWithTrustBadges\n                        competency={competency}\n                        ratings={ratings}\n                        average={average}\n                        artifacts={competencyArtifacts}\n                      />\n                    </div>\n                  </div>\n                );\n              })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}