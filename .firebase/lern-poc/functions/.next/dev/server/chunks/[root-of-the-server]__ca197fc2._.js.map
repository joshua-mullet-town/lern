{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/lib/firebase-admin.ts"],"sourcesContent":["// Firebase Admin SDK configuration\n// Used in Server Components and API routes for privileged access\n\nimport { initializeApp, getApps, cert, App } from 'firebase-admin/app';\nimport { getAuth } from 'firebase-admin/auth';\nimport { getFirestore } from 'firebase-admin/firestore';\n\nlet app: App;\n\nif (getApps().length === 0) {\n  app = initializeApp({\n    credential: cert({\n      projectId: process.env.FIREBASE_PROJECT_ID,\n      clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n      privateKey: process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, '\\n'),\n    }),\n  });\n} else {\n  app = getApps()[0];\n}\n\nexport const adminAuth = getAuth(app);\nexport const adminDb = getFirestore(app);\n"],"names":[],"mappings":"AAAA,mCAAmC;AACnC,iEAAiE;;;;;;;AAEjE;AACA;AACA;;;;;;;;;;AAEA,IAAI;AAEJ,IAAI,IAAA,2JAAO,IAAG,MAAM,KAAK,GAAG;IAC1B,MAAM,IAAA,iKAAa,EAAC;QAClB,YAAY,IAAA,wJAAI,EAAC;YACf,WAAW,QAAQ,GAAG,CAAC,mBAAmB;YAC1C,aAAa,QAAQ,GAAG,CAAC,qBAAqB;YAC9C,YAAY,QAAQ,GAAG,CAAC,oBAAoB,EAAE,QAAQ,QAAQ;QAChE;IACF;AACF,OAAO;IACL,MAAM,IAAA,2JAAO,GAAE,CAAC,EAAE;AACpB;AAEO,MAAM,YAAY,IAAA,6JAAO,EAAC;AAC1B,MAAM,UAAU,IAAA,4KAAY,EAAC","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/base.ts"],"sourcesContent":["/**\n * Base entity fields shared by all Firestore documents\n */\nexport interface BaseEntity {\n  id: string;\n  created_at: Date;\n  updated_at?: Date;\n}\n"],"names":[],"mappings":"AAAA;;CAEC","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/role.ts"],"sourcesContent":["/**\n * User roles in the LERN platform\n */\nexport type Role = 'learner' | 'educator' | 'industry_expert';\n"],"names":[],"mappings":"AAAA;;CAEC","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/competency.ts"],"sourcesContent":["import { BaseEntity } from './base';\n\n/**\n * Type of skill being assessed\n */\nexport type CompetencyType = 'hard' | 'soft';\n\n/**\n * Rating scale descriptions (0-4)\n */\nexport interface RubricScale {\n  0: string;  // \"No evidence\"\n  1: string;  // \"Beginning\"\n  2: string;  // \"Developing\"\n  3: string;  // \"Proficient\"\n  4: string;  // \"Expert\"\n}\n\n/**\n * A defined skill or competency that can be assessed\n * Created by educators, rated by learners/mentors/masters\n */\nexport interface Competency extends BaseEntity {\n  org_id: string;\n  created_by: string;  // userId of educator who created it\n  title: string;\n  description: string;\n  type: CompetencyType;\n  rubric?: RubricScale;  // Optional: custom rubric (uses DEFAULT_RUBRIC if not set)\n}\n\n/**\n * Default rubric for new competencies\n */\nexport const DEFAULT_RUBRIC: RubricScale = {\n  0: \"No evidence\",\n  1: \"Beginning\",\n  2: \"Developing\",\n  3: \"Proficient\",\n  4: \"Expert\",\n};\n"],"names":[],"mappings":";;;;AAkCO,MAAM,iBAA8B;IACzC,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACL","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/artifact.ts"],"sourcesContent":["import { BaseEntity } from './base';\n\n/**\n * Allowed artifact file types\n */\nexport type ArtifactFileType = 'pdf' | 'jpg' | 'png' | 'mp4';\n\n/**\n * Uploaded portfolio evidence (PDF, images, videos)\n * Can be linked to multiple competencies\n */\nexport interface Artifact extends BaseEntity {\n  uploaded_by: string;  // userId\n  learner_id: string;   // Owner of the artifact\n  file_url: string;     // Firebase Storage URL\n  file_type: ArtifactFileType;\n  file_size: number;    // Bytes\n  file_name: string;    // Original filename\n  competency_ids: string[];  // Links to 1+ competencies\n}\n\n/**\n * Max file size: 50MB\n */\nexport const MAX_ARTIFACT_SIZE = 50 * 1024 * 1024;\n"],"names":[],"mappings":";;;;AAwBO,MAAM,oBAAoB,KAAK,OAAO","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/collections.ts"],"sourcesContent":["/**\n * Central mapping of TypeScript types to Firestore collection names\n *\n * Usage:\n *   collection(db, COLLECTION_NAMES.users)\n *   collection(db, COLLECTION_NAMES.competencies)\n *\n * This ensures consistency and makes it easy to find/update collection names.\n */\nexport const COLLECTION_NAMES = {\n  organizations: 'organizations',\n  users: 'users',\n  competencies: 'competencies',\n  ratings: 'ratings',\n  artifacts: 'artifacts',\n} as const;\n\n/**\n * Type-safe collection name type\n */\nexport type CollectionName = typeof COLLECTION_NAMES[keyof typeof COLLECTION_NAMES];\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;;AACM,MAAM,mBAAmB;IAC9B,eAAe;IACf,OAAO;IACP,cAAc;IACd,SAAS;IACT,WAAW;AACb","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/types/index.ts"],"sourcesContent":["/**\n * Central export for all LERN types\n * Import from here: import { User, Competency, ... } from '@/types'\n */\n\nexport * from './base';\nexport * from './role';\nexport * from './organization';\nexport * from './user';\nexport * from './competency';\nexport * from './rating';\nexport * from './artifact';\nexport * from './collections';\n"],"names":[],"mappings":"AAAA;;;CAGC;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///Users/joshuamullet/code/lern/app/api/learner/visibility/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { adminDb } from '@/lib/firebase-admin';\nimport { COLLECTION_NAMES } from '@/types';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { learnerId, hiddenCompetencyIds } = await request.json();\n\n    if (!learnerId || !Array.isArray(hiddenCompetencyIds)) {\n      return NextResponse.json(\n        { error: 'Invalid request data' },\n        { status: 400 }\n      );\n    }\n\n    // Update user document with new hidden competency IDs\n    await adminDb.collection(COLLECTION_NAMES.users).doc(learnerId).update({\n      hidden_competency_ids: hiddenCompetencyIds,\n    });\n\n    return NextResponse.json({ success: true });\n  } catch (error) {\n    console.error('Error updating visibility:', error);\n    return NextResponse.json(\n      { error: 'Failed to update visibility settings' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,SAAS,EAAE,mBAAmB,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE7D,IAAI,CAAC,aAAa,CAAC,MAAM,OAAO,CAAC,sBAAsB;YACrD,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,sDAAsD;QACtD,MAAM,qIAAO,CAAC,UAAU,CAAC,0IAAgB,CAAC,KAAK,EAAE,GAAG,CAAC,WAAW,MAAM,CAAC;YACrE,uBAAuB;QACzB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuC,GAChD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}